Installation
============

To work, this suite of programs needs a proper installation of cmake (http://www.cmake.org) and :
- on Windows of Intel MKL
- on Mac OS X of Intel MKL
- on Linux of Intel MKL or preferably ATLAS (http://math-atlas.sourceforge.net/)

To compile the software do :

    Linux & Mac OS X
    ----------------
            >> cd build_directory

            build_directory is the place where you want to build OpenMEEG.
            It should be different from the OpenMEEG source directory

            >> ccmake openmeeg_source_directory

            Then choose the compilation options (ATLAS or MKL, Debug or Release ...)

            >> make
            
            And in order to install it :
            
            >> make install

    Windows
    -------
            Open the CMake.exe and configure the project (windows equivalent of ccmake)
            Generate the Visual Studio Solution and build it.
            OpenMEEG is being maintained on Windows XP with Visual Studio Express 2005

Quick Start
===========

Sample demo files are available in the Head1 folders.
Head1 is a spherical head model with 3 spherical interfaces.
To run a first computation, do in the "data/Computations/Head1" folder :

Linux & Mac OS X
----------------
        >> cp Makefile.example.unix Makefile
        >> make forward
        >> make inverse
        
        you can also try it by simply typing :
        
        >> make demo_head1
        
        or 
        
        >> make demo_head2

Windows
-------
        >> cp Makefile.example.win Makefile
        >> nmake forward
        >> nmake inverse

Read the Usage section below for more details.

Usage
=====

See project home page :

http://www-sop.inria.fr/odyssee/software/OpenMEEG/

Description of matrices dependencies :

(Further informations concerning the other matrices can be found in Geoffray Adde's PhD Thesis (in french) or in his publications.)


    INFILES                     PROGRAM                OUTFILES



            SourceMesh  ->-\                       /-->  LhsMatrix
                            \                     /
            Geometry    ->---\	       	         /---->  RhsMatrix
                              \     assemble    /
                               >===============<------>  S2MegMatrix
                              /                 \
            Patches     ->---/	             	 \---->  X2MegMatrix
                            /                     \
            Squids      ->-/                       \-->  X2EegMatrix




                                   minverser
            LhsMatrix   ->-----================-------> LhsInvMatrix




                                                  /---->  SmoothMatrix
                                     presmooth   /
            SourceMesh   ->-----================<
                                                 \
                                                  \---->  AiVector



            LhsMatrix   ->-\
                            \
            RhsMatrix   ->---\                   /---->  EegGainMatrix
                              \     gain        /
            S2MegMatrix ->----->===============<
                              /                 \
            X2MegMatrix ->---/                   \---->  MegGainMatrix
                            /
            X2EegMatrix ->-/



        EegGainMatrix   ->---\                   /---->  EstimatedEegData
                              \     forward     /
        MegGainMatrix   ->----->===============<
                              /                 \
        SourcesData     ->---/                   \---->  EstimatedMEgData



        EggGainMatrix   ->-\
                            \
        MegGainMatrix   ->---\
                              \
        EegData         ->-----\    inverse
                                >===============------->  EstimatedSourcesData
        MegData         ->-----/
                              /
        AiVector        ->---/
                            /
        SmoothMatrix    ->-/


In the "tools" folder you can find some utilities.

For any problem or comment contact the developers at : https://gforge.inria.fr/projects/openmeeg/
